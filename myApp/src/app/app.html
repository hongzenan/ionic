<ion-menu [content]="content" id="app-page">

  <!--content-->
  <ion-content>
    <!--user logo-->
    <div class="user-logo-wrap">
      <div>
        <img class="user-logo" [src]="picture">
      </div>
      <div class="user-bar">
        {{email}}
      </div>
    </div>
    <!--user diary-->
    <div class="user-diary-count-wrap">
      <div class="user-diary-today-count">today</div>
      <div class="user-diary-all-count">al</div>
    </div>
    <!--search bar-->
    <div class="search-bar">
      <ion-searchbar [(ngModel)]="myInput" [showCancelButton]="shouldShowCancel" (ionInput)="onInput($event)" (ionCancel)="onCancel($event)">
      </ion-searchbar>
    </div>
    <!--items-->
    <ion-list>
      <button class="item-background tag-head" (click)="toggleForDate()">
        <span>日期</span>
        <ion-icon class="tag-arrow" *ngIf="!toggleDate" name="arrow-dropdown-circle"></ion-icon>
        <ion-icon class="tag-arrow" *ngIf="toggleDate" name="arrow-dropup-circle"></ion-icon>
      </button>
      <div class="date-wrap" *ngIf="toggleDate">
        <ion-calendar></ion-calendar>
      </div>

      <button class="item-background tag-head" (click)="toggleForTags()">
        <span class="tag-span">标签</span>
        <ion-icon class="tag-arrow" *ngIf="!toggleTags" name="arrow-dropdown-circle"></ion-icon>
        <ion-icon class="tag-arrow" *ngIf="toggleTags" name="arrow-dropup-circle"></ion-icon>
      </button>
      <div *ngIf="toggleTags">
        <div *ngFor="let item of tags" class="tag-container">
          <div class="tag-item" [ngClass]="{'tag-item-selected': (tagSelected && item == lastTagItem)}" (click)="selectTag(item)">
            {{item}}
          </div>
          <div class="tag-icon">
            <ion-icon name="close" style="display:block;" (click)="deleteTag(item)"></ion-icon>
            <ion-icon name="create" style="display:block;"></ion-icon>
          </div>
        </div>

        <button ion-item (click)="addTag()">
          <ion-icon style="padding-left: 110px" name="add"></ion-icon>
        </button>
      </div>
      <button class="item-background tag-head" (click)="toggleForLocates()">
        <span class="tag-span">地址</span>
        <ion-icon class="tag-arrow" *ngIf="!toggleLocates" name="arrow-dropdown-circle"></ion-icon>
        <ion-icon class="tag-arrow" *ngIf="toggleLocates" name="arrow-dropup-circle"></ion-icon>
      </button>
      <div *ngIf="toggleLocates">
        <div *ngFor="let item of locates" class="tag-container">
          <div class="tag-item" [ngClass]="{'tag-item-selected': (locationSelected && item == lastLocationItem)}" (click)="selectLocation(item)">
            {{item}}
          </div>
          <div class="tag-icon">
            <ion-icon name="close" style="display:block;" (click)="deleteLocate(item)"></ion-icon>
            <ion-icon name="create" style="display:block;"></ion-icon>
          </div>
        </div>

        <button ion-item (click)="addLocate()">
          <ion-icon style="padding-left: 110px" name="add"></ion-icon>
        </button>
      </div>
    </ion-list>
  </ion-content>
</ion-menu>

<ion-nav id="nav" [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>
